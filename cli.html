<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Command Line Interface &mdash; VUnit  documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/vunit.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="VUnit  documentation" href="index.html" />
    <link rel="up" title="Documentation" href="documentation.html" />
    <link rel="next" title="Python Interface" href="python_interface.html" />
    <link rel="prev" title="User Guide" href="user_guide.html" />
  
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  
  <link rel="alternate" type="application/atom+xml"  href="blog/atom.xml" title="VUnit Blog">
  
  
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="command-line-interface">
<span id="cli"></span><h1>Command Line Interface<a class="headerlink" href="#command-line-interface" title="Permalink to this headline">¶</a></h1>
<p>A <a class="reference internal" href="python_interface.html#vunit.ui.VUnit" title="vunit.ui.VUnit"><code class="xref py py-class docutils literal"><span class="pre">VUnit</span></code></a> object can be created from command
line arguments by using the <a class="reference internal" href="python_interface.html#vunit.ui.VUnit.from_argv" title="vunit.ui.VUnit.from_argv"><code class="xref py py-meth docutils literal"><span class="pre">from_argv</span></code></a> method effectively creating a custom
command line tool for running tests in the user project.  Source files
and libraries are added to the project by using methods on the VUnit
object. The configuration is followed by a call to the <a class="reference internal" href="python_interface.html#vunit.ui.VUnit.main" title="vunit.ui.VUnit.main"><code class="xref py py-meth docutils literal"><span class="pre">main</span></code></a> method which will execute the function
specified by the command line arguments and exit the script. The added
source files are automatically scanned for test cases.</p>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>VUnit command line tool.</p>
<div class="highlight-python"><div class="highlight"><pre>usage: run.py [-h] [-l] [-f] [--compile] [-k] [--elaborate] [--clean]
              [-o OUTPUT_PATH] [-x XUNIT_XML] [--exit-0] [-v] [--no-color]
              [--log-level {info,error,warning,debug}] [-p NUM_THREADS] [-g]
              [--new-vsim] [--coverage [COVERAGE]] [--gtkwave {vcd,ghw}]
              [--gtkwave-args GTKWAVE_ARGS] [--use-debug-codecs]
              [tests [tests ...]]
</pre></div>
</div>
<dl class="docutils">
<dt>Positional arguments:</dt>
<dd><table class="first last docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd>test_patterns</kbd></td>
<td>Tests to run</td></tr>
</tbody>
</table>
</dd>
<dt>Options:</dt>
<dd><table class="first last docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-l=False</span>, <span class="option">--list=False</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Only list all test cases</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-f=False</span>, <span class="option">--files=False</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Only list all files in compile order</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--compile=False</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Only compile project without running tests</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-k=False</span>, <span class="option">--keep-compiling=False</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Continue compiling even after errors only skipping files that depend on failed files</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--elaborate=False</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Only elaborate test benches without running</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--clean=False</span></kbd></td>
<td>Remove output path first</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-o=./vunit_out</span>, <span class="option">--output-path=./vunit_out</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Output path for compilation and simulation artifacts</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-x</span>, <span class="option">--xunit-xml</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Xunit test report .xml file</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--exit-0=False</span></kbd></td>
<td>Exit with code 0 even if a test failed. Still exits with code 1 on fatal errors such as compilation failure</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-v=False</span>, <span class="option">--verbose=False</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Print test output immediately and not only when failure</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--no-color=False</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Do not color output</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--log-level=warning</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td><p class="first">Log level of VUnit internal python logging. Used for debugging</p>
<p class="last">Possible choices: info, error, warning, debug</p>
</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-p=1</span>, <span class="option">--num-threads=1</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Number of tests to run in parallel. Test output is not continuously written in verbose mode with p &gt; 1</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-g=False</span>, <span class="option">--gui=False</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Open test case(s) in simulator gui with top level pre loaded</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--new-vsim=False</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Do not re-use the same vsim process for running different test cases (slower)</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--coverage</span></kbd></td>
<td>Enable code coverage. Choose any combination of &#8220;bcestf&#8221;. When the flag is given with no argument, everything is enabled. Remember to run &#8211;clean when changing this as re-compilation is not triggered. Experimental feature not supported by VUnit main developers.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--gtkwave</span></kbd></td>
<td><p class="first">Save .vcd or .ghw and open in gtkwave</p>
<p class="last">Possible choices: vcd, ghw</p>
</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--gtkwave-args=</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Arguments to pass to gtkwave</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--use-debug-codecs=False</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Run with debug features enabled</td></tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="example-session">
<h2>Example Session<a class="headerlink" href="#example-session" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://github.com/VUnit/vunit/tree/master/examples/vhdl/user_guide//">VHDL User Guide Example</a> can be run to produce the following output:</p>
<div class="literal-block-wrapper container" id="list-all-tests">
<div class="code-block-caption"><span class="caption-text">List all tests</span><a class="headerlink" href="#list-all-tests" title="Permalink to this code">¶</a></div>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">&gt;</span> python run.py -l
<span class="go">lib.tb_example.all</span>
<span class="go">lib.tb_example_many.test_pass</span>
<span class="go">lib.tb_example_many.test_fail</span>
<span class="go">Listed 3 tests</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper container" id="run-all-tests">
<div class="code-block-caption"><span class="caption-text">Run all tests</span><a class="headerlink" href="#run-all-tests" title="Permalink to this code">¶</a></div>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">&gt;</span> python run.py -v lib.tb_example*
<span class="go">Running test: lib.tb_example.all</span>
<span class="go">Running test: lib.tb_example_many.test_pass</span>
<span class="go">Running test: lib.tb_example_many.test_fail</span>
<span class="go">Running 3 tests</span>

<span class="go">running lib.tb_example.all</span>
<span class="go">Hello World!</span>
<span class="go">pass( P=1 S=0 F=0 T=3) lib.tb_example.all (0.1 seconds)</span>

<span class="go">running lib.tb_example.test_pass</span>
<span class="go">This will pass</span>
<span class="go">pass (P=2 S=0 F=0 T=3) lib.tb_example_many.test_pass (0.1 seconds)</span>

<span class="go">running lib.tb_example.test_fail</span>
<span class="go">Error: It fails</span>
<span class="go">fail (P=2 S=0 F=1 T=3) lib.tb_example_many.test_fail (0.1 seconds)</span>

<span class="go">==== Summary =========================================</span>
<span class="go">pass lib.tb_example.all            (0.1 seconds)</span>
<span class="go">pass lib.tb_example_many.test_pass (0.1 seconds)</span>
<span class="go">fail lib.tb_example_many.test_fail (0.1 seconds)</span>
<span class="go">======================================================</span>
<span class="go">pass 2 of 3</span>
<span class="go">fail 1 of 3</span>
<span class="go">======================================================</span>
<span class="go">Total time was 0.3 seconds</span>
<span class="go">Elapsed time was 0.3 seconds</span>
<span class="go">======================================================</span>
<span class="go">Some failed!</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper container" id="run-a-specific-test">
<div class="code-block-caption"><span class="caption-text">Run a specific test</span><a class="headerlink" href="#run-a-specific-test" title="Permalink to this code">¶</a></div>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">&gt;</span> python run.py -v lib.tb_example.all
<span class="go">Running test: lib.tb_example.all</span>
<span class="go">Running 1 tests</span>

<span class="go">Starting lib.tb_example.all</span>
<span class="go">Hello world!</span>
<span class="go">pass (P=1 S=0 F=0 T=1) lib.tb_example.all (0.1 seconds)</span>

<span class="go">==== Summary ==========================</span>
<span class="go">pass lib.tb_example.all (0.9 seconds)</span>
<span class="go">=======================================</span>
<span class="go">pass 1 of 1</span>
<span class="go">=======================================</span>
<span class="go">Total time was 0.9 seconds</span>
<span class="go">Elapsed time was 1.2 seconds</span>
<span class="go">=======================================</span>
<span class="go">All passed!</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="opening-a-test-case-in-simulator-gui">
<h2>Opening a Test Case in Simulator GUI<a class="headerlink" href="#opening-a-test-case-in-simulator-gui" title="Permalink to this headline">¶</a></h2>
<p>Sometimes the textual error messages and logs are not enough to
pinpoint the error and a test case needs to be opened in the GUI for
visual debugging using single stepping, breakpoints and wave form
viewing. VUnit makes it easy to open a test case in the GUI by having
a <code class="docutils literal"><span class="pre">-g/--gui</span></code> command line flag:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">&gt;</span> python run.py --gui my_test_case <span class="p">&amp;</span>
</pre></div>
</div>
<p>This launches a simulator GUI window with the top level for the
selected test case loaded and ready to run. Depending on the simulator
a help text is printed were a few TCL functions are pre-defined:</p>
<div class="highlight-tcl"><div class="highlight"><pre><span class="c"># List of VUnit commands:</span>
<span class="c"># vunit_help</span>
<span class="c">#   - Prints this help</span>
<span class="c"># vunit_load</span>
<span class="c">#   - Load design with correct generics for the test</span>
<span class="c"># vunit_run</span>
<span class="c">#   - Run test</span>
</pre></div>
</div>
<p>The test bench has already been loaded with the <code class="docutils literal"><span class="pre">vunit_load</span></code>
command. Breakpoints can now be set and signals added to the log or to
the waveform viewer manually by the user. The test case is then run
using the <code class="docutils literal"><span class="pre">vunit_run</span></code> command. Recompilation can be performed
without closing the GUI by running <code class="docutils literal"><span class="pre">run.py</span></code> with the <code class="docutils literal"><span class="pre">--compile</span></code>
flag in a separate terminal. To re-run the test after compilation in
ModelSim:</p>
<div class="highlight-tcl"><div class="highlight"><pre><span class="nv">restart</span> <span class="o">-</span>f
<span class="nv">vunit_run</span>
</pre></div>
</div>
</div>
<div class="section" id="continuous-integration-environment">
<span id="continuous-integration"></span><h2>Continuous Integration Environment<a class="headerlink" href="#continuous-integration-environment" title="Permalink to this headline">¶</a></h2>
<p>VUnit is easily utilized with continuous integration environments such as
<a class="reference external" href="http://jenkins-ci.org/">Jenkins</a>. Once a project <code class="docutils literal"><span class="pre">run.py</span></code> has been setup, tests can be run in a
headless environment with standardized xUnit style output to a file.</p>
<div class="literal-block-wrapper container" id="execute-vunit-tests-on-ci-server-with-xml-output">
<div class="code-block-caption"><span class="caption-text">Execute VUnit tests on CI server with XML output</span><a class="headerlink" href="#execute-vunit-tests-on-ci-server-with-xml-output" title="Permalink to this code">¶</a></div>
<div class="highlight-console"><div class="highlight"><pre><span class="go"> python run.py --xunit-xml test_output.xml</span>
</pre></div>
</div>
</div>
<p>After tests have finished running, the <code class="docutils literal"><span class="pre">test_output.xml</span></code> file can be parsed
using standard xUnit test parsers such as <a class="reference external" href="http://wiki.jenkins-ci.org/display/JENKINS/xUnit+Plugin">Jenkins xUnit Plugin</a>.</p>
</div>
<div class="section" id="simulator-selection">
<span id="id1"></span><h2>Simulator Selection<a class="headerlink" href="#simulator-selection" title="Permalink to this headline">¶</a></h2>
<p>VUnit automatically detects which simulators are available on the
<code class="docutils literal"><span class="pre">PATH</span></code> environment variable and by default selects the first one
found. For people who have multiple simulators installed the
<code class="docutils literal"><span class="pre">VUNIT_SIMULATOR</span></code> environment variable can be set to one of
<code class="docutils literal"><span class="pre">activehdl</span></code>, <code class="docutils literal"><span class="pre">rivierapro</span></code>, <code class="docutils literal"><span class="pre">ghdl</span></code> or <code class="docutils literal"><span class="pre">modelsim</span></code> to explicitly
specify which simulator to use.</p>
<p>In addition to VUnit scanning the <code class="docutils literal"><span class="pre">PATH</span></code> the simulator executable
path can be explicitly configured by setting a
<code class="docutils literal"><span class="pre">VUNIT_&lt;SIMULATOR_NAME&gt;_PATH</span></code> environment variable.</p>
<div class="literal-block-wrapper container" id="explicitly-set-path-to-ghdl-executables">
<div class="code-block-caption"><span class="caption-text">Explicitly set path to GHDL executables</span><a class="headerlink" href="#explicitly-set-path-to-ghdl-executables" title="Permalink to this code">¶</a></div>
<div class="highlight-console"><div class="highlight"><pre><span class="go">VUNIT_GHDL_PATH=/opt/ghdl/bin</span>
</pre></div>
</div>
</div>
</div>
</div>

  <div class="section">
  
  
  </div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/VUnit_logo_420x420.png" alt="Logo"/>
    
    <h1 class="logo logo-name">VUnit</h1>
    
  </a>
</p>



<p class="blurb">A test framework for HDL</p>



<p>
<iframe src="https://ghbtns.com/github-btn.html?user=VUnit&repo=vunit&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>




    

<p>
<a href="https://travis-ci.org/VUnit/vunit">
    <img
        alt="https://secure.travis-ci.org/VUnit/vunit.png?branch=master"
        src="https://secure.travis-ci.org/VUnit/vunit.png?branch=master"
    />
</a>
</p>


<a class="icon" title="Contact us" href="mailto:vunitframework@gmail.com"><span class="fa fa-envelope fa-2x fa-fw"/></a>
<a class="icon" title="Go to our GitHub Repo" href="https://github.com/VUnit/vunit"><span class="fa fa-github fa-2x fa-fw"/></a>
<a class="icon" title="View our Twitter Feed" href="https://www.twitter.com/VUnitFramework"><span class="fa fa-twitter fa-2x fa-fw"/></a>
<a class="icon" title="View our YouTube Channel" href="https://youtube.com/channel/UCCPVCaeWkz6C95aRUTbIwdg"><span class="fa fa-youtube fa-2x fa-fw"/></a>
<a class="icon" title="Chat with us on Gitter" href="https://gitter.im/VUnit/vunit"><span class="fa fa-weixin fa-2x fa-fw"/></a>

<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">What is VUnit?</a></li>
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="documentation.html">Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="user_guide.html">User Guide</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Command Line Interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-session">Example Session</a></li>
<li class="toctree-l3"><a class="reference internal" href="#opening-a-test-case-in-simulator-gui">Opening a Test Case in Simulator GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#continuous-integration-environment">Continuous Integration Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#simulator-selection">Simulator Selection</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="python_interface.html">Python Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhdl_libraries.html">VHDL Libraries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>


  <h3><a href="blog.html">Recent Posts</a></h3>
  <ul>
    
    
      <li><a href="posts/2016_02_21_improving_vhdl_testbench_design_with_message_passing/post.html">Feb 21 - Improving VHDL Testbench Design with Message Passing</a></li>
    
      <li><a href="posts/2016_02_01_website_updates/post.html">Feb 01 - Website Updates</a></li>
    
      <li><a href="posts/2016_01_29_chat_with_vunit_users_and_developers/post.html">Jan 29 - Chat with VUnit Users and Developers</a></li>
    
      <li><a href="posts/2016_01_26_welcome_to_our_new_website/post.html">Jan 26 - Welcome to Our New Website</a></li>
    
      <li><a href="posts/2015_12_15_free_and_open_source_verification_with_vunit_and_ghdl/post.html">Dec 15 - Free and Open Source Verification with VUnit and GHDL</a></li>
    
  </ul>

  <h3><a href="blog/tag.html">Tags</a></h3>
  <style type="text/css">
    ul.ablog-cloud {list-style: none; overflow: auto;}
    ul.ablog-cloud li {float: left; height: 20pt; line-height: 18pt; margin-right: 5px;}
    ul.ablog-cloud a {text-decoration: none; vertical-align: middle;}
    li.ablog-cloud-1{font-size: 80%;}
    li.ablog-cloud-2{font-size: 95%;}
    li.ablog-cloud-3{font-size: 110%;}
    li.ablog-cloud-4{font-size: 125%;}
    li.ablog-cloud-5{font-size: 140%;}
  </style>
  <ul class="ablog-cloud">
    
      
      <li class="ablog-cloud ablog-cloud-3">
        <a href="blog/tag/vunit.html">VUnit</a></li>
      
    
  </ul>

  <h3><a href="blog/archive.html">Archives</a></h3>
  <ul>
  
    
    <li><a href="blog/2016.html">2016 (4)</a></li>
    
  
    
    <li><a href="blog/2015.html">2015 (3)</a></li>
    
  
  </ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Lars Asplund.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/cli.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>